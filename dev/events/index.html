<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Events · PAPI.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">PAPI.jl</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>Events</a><ul class="internal"><li><a class="tocitem" href="#Native-events"><span>Native events</span></a></li><li><a class="tocitem" href="#Presets"><span>Presets</span></a></li><li><a class="tocitem" href="#Accessing-events"><span>Accessing events</span></a></li><li><a class="tocitem" href="#Available-events"><span>Available events</span></a></li></ul></li><li><a class="tocitem" href="../eventsets/">Event Sets</a></li><li><a class="tocitem" href="../counters/">Counting</a></li><li><span class="tocitem">Library</span><ul><li><a class="tocitem" href="../public/">Public</a></li><li><a class="tocitem" href="../internals/">Internals</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Events</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Events</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/tomhaber/PAPI.jl/blob/master/docs/src/events.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Events"><a class="docs-heading-anchor" href="#Events">Events</a><a id="Events-1"></a><a class="docs-heading-anchor-permalink" href="#Events" title="Permalink"></a></h1><p>Events are occurrences of specific signals related to a processor’s function. Hardware performance counters exist as a small set of registers that count events, such as cache misses and floating point operations while the program executes on the processor. Other performance counters might exist on the operating system level for events such as page faults and context switches.</p><p>Monitoring these events facilitates correlation between the structure of source/object code and the efficiency of the mapping of that code to the underlying architecture. Each processor/architecture/system has a number of events that are native to it. PAPI provides a software abstraction of these architecture-dependent <code>native</code> events into a collection of <code>preset</code> events that are accessible through the PAPI interface.</p><p><code>PAPI.jl</code> uses the <code>Event</code> type to represent both <code>native</code> events (<code>PAPI.Native</code>) and <code>preset</code> events (<code>PAPI.Preset</code>).</p><h2 id="Native-events"><a class="docs-heading-anchor" href="#Native-events">Native events</a><a id="Native-events-1"></a><a class="docs-heading-anchor-permalink" href="#Native-events" title="Permalink"></a></h2><p>Native events comprise the set of all events that are countable by the system. In many cases, these events will be available through a matching <a href="#presets">preset</a> PAPI event. These native events can also be access directly, however this usage is intended for people who are very familiar with the particular platform in use. PAPI provides access to native events on all supported platforms through the low-level interface.</p><h2 id="Presets"><a class="docs-heading-anchor" href="#Presets">Presets</a><a id="Presets-1"></a><a class="docs-heading-anchor-permalink" href="#Presets" title="Permalink"></a></h2><p>The PAPI library provides approximately 100 presets (predefined events) that are a common set of events relevant for application performance tuning. These events are typically found in many processors that provide performance counters and give access to the memory hierarchy, cache coherence protocol events, cycle and instruction counts, functional unit, and pipeline status.</p><p>Preset events map symbolic names to specific native events on the particular architecture in use. For example, <code>Total Cycles</code> is represented as <code>PAPI.TOT_CYC</code>. A preset can be either directly available as a single counter, derived using a combination of counters, or unavailable on any particular platform.</p><p>A full list of the presets and their job description can be found <a href="http://icl.cs.utk.edu/projects/papi/files/documentation/PAPI_USER_GUIDE_23.htm#APPENDIX_A">here</a>.</p><p><code>PAPI.jl</code> includes the same set of presets represented as <code>PAPI.TOT_CYC</code> instead of <code>PAPI_TOT_CYC</code>.</p><p>The exact semantics of an event counter are platform dependent. PAPI preset names are mapped onto available events in a way, so it can count as many similar types of events as possible on different platforms. Due to hardware implementation differences, it is not necessarily feasible to directly compare the counts of a particular PAPI event obtained on different hardware platforms.</p><p>To determine which preset events are available on your specific platform, the <code>available_presets</code> function can be used:</p><pre><code class="language-julia">available_presets()</code></pre><pre class="documenter-example-output">(PAPI.L1_DCM, PAPI.L1_ICM, PAPI.L2_DCM, PAPI.L2_ICM, PAPI.L1_TCM, PAPI.L2_TCM, PAPI.L3_TCM, PAPI.CA_SNP, PAPI.CA_SHR, PAPI.CA_CLN, PAPI.CA_ITV, PAPI.L3_LDM, PAPI.TLB_DM, PAPI.TLB_IM, PAPI.L1_LDM, PAPI.L1_STM, PAPI.L2_LDM, PAPI.L2_STM, PAPI.PRF_DM, PAPI.MEM_WCY, PAPI.STL_ICY, PAPI.FUL_ICY, PAPI.STL_CCY, PAPI.FUL_CCY, PAPI.BR_UCN, PAPI.BR_CN, PAPI.BR_TKN, PAPI.BR_NTK, PAPI.BR_MSP, PAPI.BR_PRC, PAPI.TOT_INS, PAPI.LD_INS, PAPI.SR_INS, PAPI.BR_INS, PAPI.RES_STL, PAPI.TOT_CYC, PAPI.LST_INS, PAPI.L2_DCA, PAPI.L3_DCA, PAPI.L2_DCR, PAPI.L3_DCR, PAPI.L2_DCW, PAPI.L3_DCW, PAPI.L2_ICH, PAPI.L2_ICA, PAPI.L3_ICA, PAPI.L2_ICR, PAPI.L3_ICR, PAPI.L2_TCA, PAPI.L3_TCA, PAPI.L2_TCR, PAPI.L3_TCR, PAPI.L2_TCW, PAPI.L3_TCW, PAPI.SP_OPS, PAPI.DP_OPS, PAPI.VEC_SP, PAPI.VEC_DP, PAPI.REF_CYC)</pre><p>The <code>exists</code> function tests whether a single native or preset event is available:</p><pre><code class="language-julia">exists(PAPI.TOT_INS)</code></pre><pre class="documenter-example-output">true</pre><h2 id="Accessing-events"><a class="docs-heading-anchor" href="#Accessing-events">Accessing events</a><a id="Accessing-events-1"></a><a class="docs-heading-anchor-permalink" href="#Accessing-events" title="Permalink"></a></h2><p>Preset events can be accessed using the predefined constants <code>PAPI.TOT_CYC</code>. All events can be accessed by name using the function <code>name_to_event</code> and converted back to their name with <code>event_to_name</code></p><pre><code class="language-julia">using PAPI #hide
tot_ins = name_to_event(&quot;PAPI_TOT_INS&quot;) # Total Instructions preset same as PAPI.TOT_INS
page_faults = name_to_event(&quot;PAGE-FAULTS&quot;) # Page-fault counter provided by perf, if available
tot_cyc = event&quot;PAPI_TOT_CYC&quot; # same, but with macro</code></pre><p><code>Base.show</code> automatically converts the event back to its corresponding name.</p><h2 id="Available-events"><a class="docs-heading-anchor" href="#Available-events">Available events</a><a id="Available-events-1"></a><a class="docs-heading-anchor-permalink" href="#Available-events" title="Permalink"></a></h2><p>A full list of available events is provided by <code>available_presets</code> and <code>available_native</code> for presets and native events respectively.</p><article class="docstring"><header><a class="docstring-binding" id="PAPI.available_presets" href="#PAPI.available_presets"><code>PAPI.available_presets</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">available_presets()</code></pre><p>Returns a list of the presets available on the current platform.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tomhaber/PAPI.jl/blob/e48b22e5102d26a3f1c9f203b783a744aeef2de3/src/events.jl#L158-L162">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PAPI.available_native" href="#PAPI.available_native"><code>PAPI.available_native</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">available_native()</code></pre><p>Returns a list of the native events available on the current platform.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tomhaber/PAPI.jl/blob/e48b22e5102d26a3f1c9f203b783a744aeef2de3/src/components.jl#L67-L71">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../eventsets/">Event Sets »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Thursday 7 October 2021 14:45">Thursday 7 October 2021</span>. Using Julia version 1.6.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
